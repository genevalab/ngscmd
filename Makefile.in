# Makefile for ngscmd program
CC        = gcc
PROG      = ngscmd
CFLAGS    = -Wall -D _BSD_SOURCE -D MAX_LINE_LENGTH=300 -std=c99 -g -Wextra -pedantic
LFLAGS     = -lz
SRCDIR    := src
SRCS      := ngscmd.c filter.c trim.c pair.c score.c rmdup.c kmer.c
OBJS      := $(patsubst %.c, %.o, $(SRCS))

all: $(PROG)

$(PROG): $(OBJS)
	$(CC) -o $@ $(OBJS) $(LFLAGS)

%.o: $(SRCDIR)/%.c
	$(CC) $(CFLAGS) -c $< -o $@

.PHONY: clean

clean :
	rm $(OBJS) $(PROG)

